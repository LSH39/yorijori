<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="recipe">
 	<select id="selectRecipeList" resultType="rb">
 		select 
 			recipe_no as recipeNo, 
 			recipe_writer as recipeWriter, 
 			recipe_title as recipeTitle, 
 			filepath,
 			read_count as readCount,
 			recipe_time as recipeTime, 
 			recipe_level as recipeLevel
 		from recipe_board 
 	</select>
 	<insert id="insertRecipeBoard" parameterType="rb" >
 		insert into recipe_board values(recipe_seq.nextval,#{recipeWriter},#{recipeTitle},#{filepath},0,to_char(sysdate,'yyyy-mm-dd'),#{subhead},#{recipeVideo},#{recipeTime},#{foodName},#{recipeLevel},#{situation},#{material})
 	</insert>
 	<select id="selectRecipeNo" resultType="_int">
 		select max(recipe_no) from recipe_board 
 	</select>
 	<insert id="insertMaterial" parameterType="material">
 		insert into material values(material_seq.nextval,#{recipeNo},#{materialName},#{mAmount})
 	</insert>
 	<insert id="insertContent" parameterType="rcontent">
 		insert into recipe_content values(r_file_seq.nextval,#{recipeNo},#{filename},#{filepath},#{recipeContent})
 	</insert>
 	<select id="recipeCategoty1" parameterType="string" resultType="rb">
 		select 
 			recipe_no as recipeNo, 
 			recipe_writer as recipeWriter, 
 			recipe_title as recipeTitle, 
 			filepath,
 			read_count as readCount,
 			recipe_time as recipeTime, 
 			recipe_level as recipeLevel
 		from recipe_board where situation=#{item}
 	</select>
 	<select id="selectMemberId"  parameterType="_int" >
 		select member_id from member where member_no=#{recipe_writer};
 	</select>
</mapper>
